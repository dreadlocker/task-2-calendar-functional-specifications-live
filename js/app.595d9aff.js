(function(t){function e(e){for(var r,o,i=e[0],c=e[1],l=e[2],h=0,u=[];h<i.length;h++)o=i[h],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&u.push(a[o][0]),a[o]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);d&&d(e);while(u.length)u.shift()();return s.push.apply(s,l||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],r=!0,i=1;i<n.length;i++){var c=n[i];0!==a[c]&&(r=!1)}r&&(s.splice(e--,1),t=o(o.s=n[0]))}return t}var r={},a={app:0},s=[];function o(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=r,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var l=0;l<i.length;l++)e(i[l]);var d=c;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("MainComponent")],1)},s=[],o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{class:{fade:t.isAddEventModalOpen||t.isShowEventModalOpen}},[n("div",{staticClass:"events-holder-parent"},[n("div",{staticClass:"events-holder max-width"},[n("div",[n("BaseButton",{attrs:{text:t.addEventBtnText,classes:t.addEventBtnClasses,func:t.openModal}}),n("BaseButton",{attrs:{text:t.refreshEventBtnText,classes:t.refreshEventBtnClasses,func:t.refreshPage}})],1),n("div",[n("span",{staticClass:"margin-right"},[t._v("🔍")]),n("input",{ref:"searchInput",staticClass:"input",attrs:{type:"text",placeholder:"Search for event"},on:{input:t.searchForEvent}})])])]),n("div",{staticClass:"calendar-header max-width"},[n("BaseButton",{attrs:{text:t.previousMonthBtnText,classes:t.previousMonthBtnClasses,func:t.getPreviousMonthDate}}),n("span",{staticClass:"current-date calendar-header-elements-margin-right"},[t._v(t._s(t.monthAndYear))]),n("BaseButton",{attrs:{text:t.nextMonthBtnText,classes:t.nextMonthBtnClasses,func:t.getNextMonthDate}}),n("BaseButton",{attrs:{text:t.todayBtnText,classes:t.todayBtnClasses,func:t.getToday}})],1),n("div",{staticClass:"calendar-holder max-width"},t._l(t.daysForCurrentMonthArray(),(function(e,r){return n("BaseCalendarDay",{key:r,attrs:{dayString:r<7?t.daysStringArray[r]+", ":"",dayArray:e},on:{closeShownEventModal:t.closeShownEventModalMethod}})})),1)]),t.isAddEventModalOpen?n("AddEventModal",{on:{closeAddEventModal:function(e){t.isAddEventModalOpen=!1}}}):t._e(),t.isShowEventModalOpen?n("ShowEventModal",{attrs:{monthAndYear:t.monthAndYear,day:t.calendarDayClicked,keyForLocalStorageCheck:t.keyFromChild},on:{closeShowEventModal:t.closeShowEventModalMethod}}):t._e()],1)},i=[],c=(n("99af"),n("4160"),n("caad"),n("fb6a"),n("4fad"),n("b64b"),n("4d63"),n("ac1f"),n("25f0"),n("2532"),n("1276"),n("498a"),n("159b"),n("2909")),l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{class:t.classes,domProps:{innerHTML:t._s(t.text)},on:{click:function(e){return e.preventDefault(),t.func(e)}}})},d=[],h={name:"BaseButton",props:{text:{type:String,required:!0},classes:{type:String,required:!0},func:{type:Function,required:!0}}},u=h,v=n("2877"),p=Object(v["a"])(u,l,d,!1,null,null,null),f=p.exports,g=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"day-holder",class:{"clickable-day":t.dayArray[1].title.length},attrs:{"data-day":t.dayArray[1].dayMonthYear},on:{click:function(e){t.dayArray[1].title.length&&t.passKeyToParent()}}},[n("div",{staticClass:"day-header"},[t._v(t._s(t.dayString)+t._s(t.dayArray[0]))]),t.dayArray[1].title?n("div",{staticClass:"event-header"},[t._v(t._s(t.eventTitle))]):t._e(),t.dayArray[1].description?n("div",{staticClass:"event-info"},[t._v(t._s(t.eventDescription))]):t._e()])},y=[],m=(n("a4d3"),n("e01a"),{name:"BaseCalendarDay",props:{dayString:{type:String,required:!0},dayArray:{type:Array,required:!0}},computed:{eventTitle:function(){if(this.dayArray[1].title.length){var t=this.dayArray[1].title;return t.length<22?t:"".concat(t.slice(0,22),"...")}},eventDescription:function(){if(this.dayArray[1].description.length){var t=this.dayArray[1].description;return t.length<22?t:"".concat(t.slice(0,26),"...")}}},methods:{passKeyToParent:function(){return this.$emit("closeShownEventModal",this.keyForLocalStorageCheck,this.dayArray[0])}}}),M=m,x=Object(v["a"])(M,g,y,!1,null,null,null),b=x.exports,E=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("form",{staticClass:"event-modal"},[n("div",{staticClass:"modal-close-btn",on:{click:t.closeModal}},[t._v("✗")]),n("input",{ref:"title",staticClass:"margin-bottom",class:{danger:t.titleError},attrs:{type:"text",placeholder:"Title here..."}}),n("input",{ref:"date",staticClass:"margin-bottom",class:{danger:t.dateError},attrs:{type:"date"}}),n("textarea",{ref:"participants",staticClass:"margin-bottom",class:{danger:t.participantsError},attrs:{cols:"30",rows:"10",placeholder:"Participants here..."}}),n("input",{ref:"details",staticClass:"margin-bottom",class:{danger:t.detailsError},attrs:{type:"text",placeholder:"Details here..."}}),n("BaseButton",{attrs:{text:t.btnText,classes:t.btnClasses,func:t.saveEvent}})],1)},S=[];n("d3b7");function w(t,e){for(var n={},r=1;r<=e;r++)n[r]={title:"",participants:"",description:"",dayMonthYear:"".concat(r," ").concat(t)};localStorage.setItem(t,JSON.stringify(n))}var C={name:"AddEventModal",components:{BaseButton:f},data:function(){return{btnText:"Save Event",btnClasses:"save-event-btn btn events-btn",titleError:!1,dateError:!1,participantsError:!1,detailsError:!1}},methods:{closeModal:function(){return this.$emit("closeAddEventModal")},saveEvent:function(){var t=this,e=this.$refs.title.value.trim();if(!/^[A-Z]{1}[a-z0-9\s+]{1,48}[a-z0-9]{1}$/g.test(e))return this.titleError=!0,this.$refs.title.focus(),alert("Title have to start with a capital letter, followed by lowercase letters or numbers, length between 3 and 50 characters.");this.titleError=!1;var n=this.$refs.date.value.trim();if(!n.length)return this.dateError=!0,this.$refs.date.focus(),alert("Wrong date.");this.dateError=!1;var r=this.$refs.participants.value.trim();if(!/([A-Za-z0-9]{1}[a-zA-Z0-9]+)\s*,*\s*/gm.test(r))return this.participantsError=!0,this.$refs.participants.focus(),alert("Participants needs to be separated by comma and have at least 2 characters.");this.participantsError=!1;var a=this.$refs.details.value.trim();if(!/[A-Za-z0-9\s*,*.*]{1,100}$/g.test(a))return this.detailsError=!0,this.$refs.details.focus(),alert("Details have to have between 1 and 100 characters.");this.detailsError=!1;var s=new Date(n),o=s.getDate(),i=s.getMonth(),c=s.getFullYear(),l=new Date(c,i).toLocaleString("default",{month:"long"}),d="".concat(l," ").concat(c),h=JSON.parse(localStorage.getItem(d));if(h){var u=h[o],v=h[o]["dayMonthYear"],p=[e,r,a,v];return Object.keys(u).forEach((function(t,e){return u[t]=p[e]})),localStorage.setItem(d,JSON.stringify(h)),this.closeModal()}var f=new Date(c,i+1,0).getDate();new Promise((function(t,e){t(w(d,f)),e(new Error("Something is wrong."))})).then((function(){var n=JSON.parse(localStorage.getItem(d)),s=n[o],i=n[o]["dayMonthYear"],c=[e,r,a,i];return Object.keys(s).forEach((function(t,e){return s[t]=c[e]})),localStorage.setItem(d,JSON.stringify(n)),t.closeModal()}))}},mounted:function(){return this.$refs.title.focus()}},A=C,D=Object(v["a"])(A,E,S,!1,null,null,null),O=D.exports,B=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"event-modal"},[n("div",{staticClass:"modal-close-btn",on:{click:t.closeModal}},[t._v("✗")]),n("div",{staticClass:"bold"},[t._v("Title:")]),n("div",{staticClass:"separate-rows"},[t._v(t._s(t.title))]),n("div",{staticClass:"bold"},[t._v("Participants:")]),n("div",{staticClass:"separate-rows"},[t._v(t._s(t.participants))]),n("div",{staticClass:"bold"},[t._v("Description:")]),n("div",{staticClass:"separate-rows"},[t._v(t._s(t.description))]),n("BaseButton",{attrs:{text:t.removeEvent,classes:t.removeEventClasses,func:t.removeEventMehod}})],1)},_=[],Y={name:"ShowEventModal",components:{BaseButton:f},computed:{title:function(){return JSON.parse(localStorage[this.monthAndYear])[this.day].title},participants:function(){return JSON.parse(localStorage[this.monthAndYear])[this.day].participants},description:function(){return JSON.parse(localStorage[this.monthAndYear])[this.day].description}},data:function(){return{removeEvent:"Remove",removeEventClasses:"save-event-btn btn events-btn"}},props:{monthAndYear:{type:String,required:!0},day:{type:String,required:!0}},methods:{closeModal:function(){return this.$emit("closeShowEventModal")},removeEventMehod:function(){var t=JSON.parse(localStorage[this.monthAndYear]);return t[this.day]={title:"",participants:"",description:""},localStorage.setItem(this.monthAndYear,JSON.stringify(t)),this.closeModal()}}},I=Y,T=Object(v["a"])(I,B,_,!1,null,null,null),j=T.exports,k={name:"MainComponent",components:{BaseButton:f,BaseCalendarDay:b,AddEventModal:O,ShowEventModal:j},computed:{monthAndYear:function(){return"".concat(new Date(this.currentYear,this.currentMonthIndex).toLocaleString("default",{month:"long"})," ").concat(this.currentYear)},previousMonthIndex:function(){return this.currentMonthIndex-1},nextMonthIndex:function(){return this.currentMonthIndex+1}},data:function(){return{currentMonthIndex:(new Date).getMonth(),currentYear:(new Date).getFullYear(),addEventBtnText:"Add new",addEventBtnClasses:"btn events-btn margin-right",refreshEventBtnText:"Refresh",refreshEventBtnClasses:"btn events-btn",previousMonthBtnText:"&#9664;",previousMonthBtnClasses:"btn calendar-header-prev-next-btns calendar-header-elements-margin-right",nextMonthBtnText:"&#9654;",nextMonthBtnClasses:"btn calendar-header-prev-next-btns calendar-header-elements-margin-right",todayBtnText:"Today",todayBtnClasses:"btn today-btn",daysStringArray:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],isAddEventModalOpen:!1,isShowEventModalOpen:!1,keyFromChild:"",calendarDayClicked:""}},methods:{daysForCurrentMonthArray:function(){var t=new Date(this.currentYear,this.currentMonthIndex).getDay();t=0===t?7:t;var e=new Date(this.currentYear,this.previousMonthIndex).toLocaleString("default",{month:"long"}),n=1===this.nextMonthIndex?this.currentYear-1:this.currentYear,r=new Date(this.currentYear,this.currentMonthIndex,0).getDate(),a=new Date(this.currentYear,this.currentMonthIndex).toLocaleString("default",{month:"long"}),s=this.currentYear,o=new Date(this.currentYear,this.nextMonthIndex,0).getDate(),i=new Date(this.currentYear,this.nextMonthIndex).toLocaleString("default",{month:"long"}),l=12===this.nextMonthIndex?this.currentYear+1:this.currentYear,d=new Date(this.currentYear,this.nextMonthIndex+1,0).getDate(),h=1===t?[]:this.generateDaysForMonthArray("".concat(e," ").concat(n),r,t-1),u=this.generateDaysForMonthArray("".concat(a," ").concat(s),o),v=this.generateDaysForMonthArray("".concat(i," ").concat(l),d,0,42-o-t+1);return[].concat(Object(c["a"])(h),Object(c["a"])(u),Object(c["a"])(v))},searchForEvent:function(){var t=this.$refs.searchInput.value.trim(),e=document.getElementsByClassName("clickable-day");if(e.length){if(!t.length)return e.forEach((function(t){return t.classList.remove("border-highlight")}));var n=/^[a-z0-9 ]{1,30}$/gi.test(t);if(n){var r=new RegExp(t,"gi");return e.forEach((function(t){r.test(t.children[1].innerHTML)?t.classList.add("border-highlight"):t.classList.remove("border-highlight")}))}}},generateDaysForMonthArray:function(t,e,n,r){return localStorage[t]?void 0!==n&&r?Object.entries(JSON.parse(localStorage[t])).slice(n,r):n?Object.entries(JSON.parse(localStorage[t])).slice(-n):Object.entries(JSON.parse(localStorage[t])):(w(t,e),this.generateDaysForMonthArray(t,e,n,r))},generateCalendarDaysArray:function(){var t=Object.keys(localStorage),e=[],n=new Date(this.currentYear,this.currentMonthIndex).getDay();if(n>1){var r=new Date(this.currentYear,this.currentMonthIndex-1).getMonth()+1,a=new Date(this.currentYear,this.currentMonthIndex,0).getDate(),s=a-n+2;for(s;s<=a;s++){var o="".concat(this.currentYear,"-").concat(r<10?"0".concat(r):r,"-").concat(s),i=[];t.includes(o)&&(i=localStorage.getItem(o).split(",")),e.push({day:s,event:i})}}for(var c=new Date(this.currentYear,this.currentMonthIndex+1,0).getDate(),l=1;l<=c;l++){var d="".concat(this.currentYear,"-").concat(this.currentMonthIndex+1<10?"0".concat(this.currentMonthIndex+1):this.currentMonthIndex+1,"-").concat(l<10?"0".concat(l):l),h=[];t.includes(d)&&(h=localStorage.getItem(d).split(",")),e.push({day:l,event:h})}if(e.length<42)for(var u=new Date(this.currentYear,this.currentMonthIndex+1).getMonth()+1,v=1;e.length<42;v++){var p="".concat(this.currentYear,"-").concat(u<10?"0".concat(u):u,"-").concat(v<10?"0".concat(v):v),f=[];t.includes(p)&&(f=localStorage.getItem(p).split(",")),e.push({day:v,event:f})}return e},openModal:function(){return this.isAddEventModalOpen=!0},refreshPage:function(){return location.reload()},getPreviousMonthDate:function(){return this.currentMonthIndex||(this.currentYear-=1,this.currentMonthIndex=12),this.currentMonthIndex=this.previousMonthIndex},getNextMonthDate:function(){var t=this.nextMonthIndex%12;return t||(this.currentYear+=1),this.currentMonthIndex=t},getToday:function(){var t=new Date;return this.currentYear=t.getFullYear(),this.currentMonthIndex=t.getMonth()},closeShownEventModalMethod:function(t,e){return this.calendarDayClicked=e,this.keyFromChild=t,this.isShowEventModalOpen=!0},closeShowEventModalMethod:function(){return this.isShowEventModalOpen=!1}}},$=k,F=Object(v["a"])($,o,i,!1,null,null,null),P=F.exports,N={name:"App",components:{MainComponent:P}},J=N,L=(n("cf25"),Object(v["a"])(J,a,s,!1,null,null,null)),q=L.exports;r["a"].config.productionTip=!1,new r["a"]({render:function(t){return t(q)}}).$mount("#app")},cf25:function(t,e,n){"use strict";var r=n("fea6"),a=n.n(r);a.a},fea6:function(t,e,n){}});
//# sourceMappingURL=app.595d9aff.js.map